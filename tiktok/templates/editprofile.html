{% extends "layout.html" %}
{% load static %}
{% block  content%}

    <div id="EditProfileOverlay"
        class="fixed flex justify-center pt-14 md:pt-[13px] z-50 top-0 left-0 w-full h-full bg-black bg-opacity-50 overflow-auto">
        
        <div class="
            relative bg-white w-full max-w-[700px] sm:h-[580px] h-[755px] mx-3 p-4 rounded-lg mb-10
            ">
            <div class="absolute flex items-center justify-between w-full p-5 left-0 top-0 border-b border-b-gray-300">
                <h1 class="text-[22px] font-medium">
                    Edit profile
                </h1>
                <button class="hover:bg-gray-200 p-1 rounded-full">
                    <AiOutlineClose size="25" />
                </button>
            </div>
            <form method="post" enctype="multipart/form-data" action="" role="form">
                {% csrf_token %}
            <div class="h-[calc(500px-200px)] mt-16 ">
                <div class="overflow-y-scroll h-[500px] md:h-[400px]">
                    
                    <div id="ProfilePhotoSection"
                        class="flex flex-col border-b sm:h-[118px] h-[145px] px-1.5 py-2 w-full">
                        <h3
                            class="font-semibold text-[15px] sm:mb-0 mb-1 text-gray-700 sm:w-[160px] sm:text-left text-center">
                            Profile photo
                        </h3>

                        <div class="flex items-center justify-center sm:-mt-6">
                            <label htmlFor="image" class="relative cursor-pointer">

                                {% if  request.user.profile.picture%}
                                <img class="rounded-full" width="95"
                                    src="{{ request.user.profile.picture.url }}" />
                                {% else %}
                                    <img class="rounded-full" width="95"
                                    src="{% static 'public/assets/images/placeholder-user.jpg' %}" />  
                                {% endif %}
                                <span
                                    class="absolute bottom-0 right-0 rounded-full bg-white shadow-xl border p-1 border-gray-300 inline-block w-[32px] h-[32px]">
                                    <img src="{% static "public/assets/images/plus.png" %}"  class="ml-0.5" width="17" height="17"/>
                                    {{ form.picture }}
                                </span>
                            </label>
                            {% comment %} <input class="hidden" type="file" id="image" accept="image/png, image/jpeg, image/jpg" /> {% endcomment %}
                        </div>
                    </div>

                    <div id="UserNameSection" class="flex flex-col border-b sm:h-[129px]  px-1.5 py-2 mt-1.5  w-full">
                        <h3
                            class="font-semibold text-[15px] sm:mb-0 mb-1 text-gray-700 sm:w-[160px] sm:text-left text-center">
                            First Name
                        </h3>

                        <div class="flex items-center justify-center sm:-mt-6 ">
                            <div class="sm:w-[60%] w-full max-w-md ">
                                {{ form.first_name }}
                                <p class="relative text-[12px] text-gray-500 mt-4 pb-3">
                                    www.tiktok/@bereket<br>
                                    Usernames can only contain letters, numbers, underscores, and periods.
                                    Changing your username will also change your profile link.
                                </p>
                            </div>
                        </div>
                    </div>

                    <div id="UserNameSection" class="flex flex-col border-b sm:h-[118px]  px-1.5 py-2 mt-1.5  w-full">
                        <h3
                            class="font-semibold text-[15px] sm:mb-0 mb-1 text-gray-700 sm:w-[160px] sm:text-left text-center">
                            Last Name
                        </h3>

                        <div class="flex items-center justify-center sm:-mt-6">
                            <div class="sm:w-[60%] w-full max-w-md">
                                {{ form.last_name }}
                                <p class="relative text-[11px] text-gray-500 mt-4">
                                    Usernames can only contain letters, numbers, underscores, and periods.
                                    Changing your username will also change your profile link.
                                </p>
                            </div>
                        </div>
                    </div>
                    <div id="UserNameSection" class="flex flex-col border-b sm:h-[118px]  px-1.5 py-2 mt-1.5  w-full">
                        <h3
                            class="font-semibold text-[15px] sm:mb-0 mb-1 text-gray-700 sm:w-[160px] sm:text-left text-center">
                            Location
                        </h3>

                        <div class="flex items-center justify-center sm:-mt-6">
                            <div class="sm:w-[60%] w-full max-w-md">
                                {{ form.location }}
                                <p class="relative text-[11px] text-gray-500 mt-4">
                                    Usernames can only contain letters, numbers, underscores, and periods.
                                    Changing your username will also change your profile link.
                                </p>
                            </div>
                        </div>
                    </div>
                    <div id="UserNameSection" class="flex flex-col border-b sm:h-[118px]  px-1.5 py-2 mt-1.5  w-full">
                        <h3
                            class="font-semibold text-[15px] sm:mb-0 mb-1 text-gray-700 sm:w-[160px] sm:text-left text-center">
                          Url
                        </h3>

                        <div class="flex items-center justify-center sm:-mt-6">
                            <div class="sm:w-[60%] w-full max-w-md">
                                {{ form.url }}
                                <p class="relative text-[11px] text-gray-500 mt-4">
                                    Usernames can only contain letters, numbers, underscores, and periods.
                                    Changing your username will also change your profile link.
                                </p>
                            </div>
                        </div>
                    </div>

                    <div id="UserBioSection" class="flex flex-col sm:h-[120px]  px-1.5 py-2 mt-2 w-full">
                        <h3
                            class="font-semibold text-[15px] sm:mb-0 mb-1 text-gray-700 sm:w-[160px] sm:text-left text-center">
                            Bio
                        </h3>

                        <div class="flex items-center justify-center sm:-mt-6">
                            <div class="sm:w-[60%] w-full max-w-md">
                                {{ form.profile_info }}
                                <p class="text-[11px] text-gray-500">0/80</p>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
            <div id="ButtonSection" class="absolute p-5 left-0 bottom-0 border-t border-t-gray-300 w-full">
                <div id="UpdateInfoButtons" class="flex items-center justify-end">

                    <button disabled={isUpdating}
                        class="flex items-center border rounded-sm px-3 py-[6px] hover:bg-gray-100">
                        <span class="px-2 font-medium text-[15px]">Cancel</span>
                    </button>

                    <button class="flex items-center bg-[#F02C56] text-white border rounded-md ml-3 px-3 py-[6px]">
                        <span class="mx-4 font-medium text-[15px]">
                            Apply
                        </span>
                    </button>

                </div>
            </div>
        </form>
        </div>
    
    </div>
    </div>
{% endblock %}